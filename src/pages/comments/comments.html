<!--
  Generated template for the CommentsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar >
    <ion-title *ngIf="post">{{post.title}}</ion-title>
  </ion-navbar>

</ion-header>
<ion-content>
<ion-card *ngIf="post">

    <ion-item  >
      <ion-avatar item-start>
          <img src="http://www.patriotsbandboosters.org/images/icons/student_256.png" style="width: 4em; height: 4em">
        </ion-avatar>
      <h2> {{post.title}}</h2>
      <p>{{post.fullname}}</p>
    </ion-item>


    <ion-card-content >
      <p>{{post.content}}</p>
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div> Like</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="text"></ion-icon>
          <div> Comment</div>
        </button>
      </ion-col>

    </ion-row>
    <p style="padding: 0.5em; font-size: 0.7em; color: #666666; float: right" >{{ post.time}}</p>
  </ion-card>


    <ion-item>
      <ion-textarea autosize [(ngModel)]="content" type="text" placeholder="Add a comment"></ion-textarea>
    </ion-item>
    <ion-row>
      <ion-col>
          <button padding ion-button (click)="addComment()" style="width: 100%; margin-top: 3em">Comment!</button>
      </ion-col>
    </ion-row>
  
 


    <ion-card *ngFor="let comment of (comments | async)?.slice().reverse()" style="width: 15em; margin-left: 4em;">

      <ion-item >
        <ion-avatar item-start>
          <img src="http://cdn.onlinewebfonts.com/svg/img_454313.png" />
        </ion-avatar>
        <p><strong>{{ comment.payload.val().fullname}}</strong> commented</p>
      </ion-item>
      
      <ion-card-content >
        <p>{{comment.payload.val().content}}</p>
      </ion-card-content>


      <p style="padding: 0.5em; font-size: 0.7em; color: #666666; float: right"> {{comment.payload.val().time}}</p>
    </ion-card>
</ion-content>